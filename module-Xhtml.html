<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: Xhtml</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: Xhtml</h1>

    



<section>

<header>
    <h2>
    Xhtml
    </h2>
    
</header>

<article>
    <div class="container-overview">
    

    
        

        
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line14">line 14</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt>
    <h4 class="name" id="booleanAttrs"><span class="type-signature">&lt;inner> </span>booleanAttrs<span class="type-signature"></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        Attributes that are to be serialized like checked="checked" for any
attribute value.
    </div>
    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        
            
<dt>
    <h4 class="name" id="emptyElements"><span class="type-signature">&lt;inner> </span>emptyElements<span class="type-signature"></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        Elements that are to be serialized like <img /> and not like <img></img>.
    </div>
    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        
            
<dt>
    <h4 class="name" id="isUnrecognizedMap"><span class="type-signature">&lt;inner> </span>isUnrecognizedMap<span class="type-signature"></span></h4>

    
</dt>
<dd>
    
    <div class="description">
        Maps element names to a boolean that indicates whether IE7/IE8 doesn't
recognize the element.
This is necessary to repair the broken DOM structure caused by
unrecognized elements.
Contains some intial values to cover most common cases. If an element is
serialized that is not present here, it will be examined (which may be
costly) and added dynamically.
See isUnrecognized().
    </div>
    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="contentsToXhtml"><span class="type-signature">&lt;inner> </span>contentsToXhtml<span class="signature">(nodes, ephemera)</span><span class="type-signature"> &rarr; {string}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Serializes a number of DOM nodes in an array-like object to an XHTML
string.

The XHTML of the nodes in the given array-like object will be
concatenated.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>nodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Node></span>


            
            </td>

            

            

            <td class="description last">An array or jQuery object or another array-like object to
       serialize.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ephemera</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Describes content that should not be serialized.
       Only attrMap and attrRxs are supported at the moment.
       See ephemera.ephemera().</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line340">line 340</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>nodeToXhtml()</li>
        </ul>
    </dd>
    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The serialized XHTML String representing the given DOM nodes in
        the given array-like object.  The result may look like an XML
        fragment with multiple top-level elements and text nodes.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="encodeDqAttrValue"><span class="type-signature">&lt;inner> </span>encodeDqAttrValue<span class="signature">(str)</span><span class="type-signature"> &rarr; {string}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Encodes a string meant to be used between double-quoted attribute values.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>str</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">An unencoded attribute value.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The given string with & < and " characters replaced with the
       corresponding HTML entity references.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="encodePcdata"><span class="type-signature">&lt;inner> </span>encodePcdata<span class="signature">(str)</span><span class="type-signature"> &rarr; {string}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Encodes a string meant to be used wherever parsable character data occurs
in XML.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>str</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">An unencoded piece of character data.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line98">line 98</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The given string with & and < characters replaced with the
       corresponding HTML entity references.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="isUnrecognized"><span class="type-signature">&lt;inner> </span>isUnrecognized<span class="signature">(element)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        IE8 turns the following
<book id="x">{content}</book>
into
<book id="x"></book>{content}</book><//book>
This seems to occur with any element IE doesn't recognize.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">Element</span>


            
            </td>

            

            

            <td class="description last">An element node.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line176">line 176</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    True if the given element isn't recognized by IE and causes a
       broken DOM structure as outlined above.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="makeAttrString"><span class="type-signature">&lt;inner> </span>makeAttrString<span class="signature">(element, ephemera)</span><span class="type-signature"> &rarr; {string}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Serializes the attributes of the given element.

Attributes that have the empty string as value will not appear in the
string at all.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">Element</span>


            
            </td>

            

            

            <td class="description last">An element to serialize the attributes of.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ephemera</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Describes attributes that should be skipped.
       See Ehpemera.ephemera().</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line131">line 131</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A string made up of name="value" for each attribute of the given
       element, separated by space. The string will have a leading space.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="nodeToXhtml"><span class="type-signature">&lt;inner> </span>nodeToXhtml<span class="signature">(node, ephemera)</span><span class="type-signature"> &rarr; {string}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Serializes a DOM node to an XHTML string.

Beware that the serialization method will generate XHTML as close as
possible to the DOM tree represented by the given node. The result will
only be valid XHTML if the DOM tree doesn't violate any contained-in
rules.

Element attributes with an empty string as value will not appear in the
serialized output.

Element attribute names are case-insensitive in HTML5, so they may come
out in mixed-case depending on what the browser provides.

When iterating over the DOM, CDATA sections are comment nodes on some
browsers (Chrome) and not there at all on others (IE).  This is the same
as what comes out from element.innerHTML.

IE8 bug: comments will sometimes be silently stripped inside
contentEditable=true. Conditional includes don't work inside
contentEditable=true. See the tests for more information.

IE8 bug: a title element will not be serialized correctly unless it
occurs in the head of a HTML document, even if it occurs in a non-HTML
namespace (maybe it works with a prefix).  This will probably also apply
for other HTML elements that occur in the header.

IE8 bug: unrecognized elements in the HTML scope will cause broken DOM
structure (some HTML5 elements that are not yet implemented in IE for
example). Some effort was made to fix a broken DOM structure, if it is
encountered. There is one case which results in an unrecoverably broken
DOM structure, which is an unrecognized element not preceded by some
text. See the tests for further information.

IE8 bug: whitespace is not reliably preserved when the style
white-space:pre (or similar) is used. See the tests for further
information. Whitespace inside <pre> elements will be preserved, but \n
characters will become \r characters.

IE7 bug: URLs in href and src attributes of a and img elements will be
absolutized (including hostname and protocol) if they are given as a
relative path.

IE bug: Namespace support inside contentEditable=true is a bit shaky on
IE. Don't use it if possible. See the tests to get an idea of what seems
to work. Make namespace prefixes and element names all lower-case, as
they are always lower-cased, even if the element doesn't occur in an HTML
namespace. Don't use default namespaces, use prefixes (except for an HTML
namespace).
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>node</code></td>
            

            <td class="type">
            
                
<span class="param-type">Node</span>


            
            </td>

            

            

            <td class="description last">A DOM node to serialize.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ephemera</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Describes content that should not be serialized.
       Only attrMap and attrRxs are supported at the moment.
       See ephemera.ephemera().</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line411">line 411</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The serialized XHTML string represnting the given DOM node.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

        

    
</dd>

        
            
<dt>
    <h4 class="name" id="serialize"><span class="type-signature">&lt;inner> </span>serialize<span class="signature">(node, ephemera, xhtml)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Serializes a DOM node into a XHTML string.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>node</code></td>
            

            <td class="type">
            
                
<span class="param-type">DomEvents</span>


            
            </td>

            

            

            <td class="description last">A DOM node to serialize.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ephemera</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Describes content that should not be serialized.
       Only attrMap and attrRxs are supported at the moment.
       See ephemera.ephemera().</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xhtml</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">An array that will receive snippets of XHTML,
       which if joined will yield the XHTML string.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line297">line 297</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="serializeChildren"><span class="type-signature">&lt;inner> </span>serializeChildren<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Serializes the children of the given element into an XHTML string.

The same as serializeElement() except it only serializes the children.
The start and end tag of the given element will not appear in the
resulting XHTML.
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line205">line 205</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>serializeElement()</li>
        </ul>
    </dd>
    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="serializeElement"><span class="type-signature">&lt;inner> </span>serializeElement<span class="signature">(element, child, unrecognized, ephemera, xhtml)</span><span class="type-signature"> &rarr; {Element}</span></h4>

    
</dt>
<dd>

    
    <div class="description">
        Serializes an element into an XHTML string.
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>element</code></td>
            

            <td class="type">
            
                
<span class="param-type">Element</span>


            
            </td>

            

            

            <td class="description last">An element to serialize.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>child</code></td>
            

            <td class="type">
            
                
<span class="param-type">Element</span>


            
            </td>

            

            

            <td class="description last">The first child of the given element. This will usually be
       element.firstChild. On IE this may be element.nextSibling because
       of the broken DOM structure IE sometimes generates.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>unrecognized</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Whether the given element is unrecognized on IE. If IE doesn't
       recognize the element, it will create a broken DOM structure which
       has to be compensated for. See isUnrecognized() for more.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ephemera</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Describes content that should not be serialized.
       Only attrMap and attrRxs are supported at the moment.
       See ephemera.ephemera().</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xhtml</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">An array which receives the serialized element and which, if
       joined, will yield the XHTML string.</td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dom-to-xhtml.js.html">dom-to-xhtml.js</a>, <a href="dom-to-xhtml.js.html#line253">line 253</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    null if all siblings of the given child have been processed as
       children of the given element, or otherwise the first sibling of
       child that is not considered a child of the given element.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Element</span>


    </dd>
</dl>

        

    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-accessor.html">accessor</a></li><li><a href="module-Aloha.html">Aloha</a></li><li><a href="module-Arrays.html">Arrays</a></li><li><a href="module-Assert.html">Assert</a></li><li><a href="module-Blocks.html">Blocks</a></li><li><a href="module-Boundaries.html">Boundaries</a></li><li><a href="module-BoundaryMarkers.html">BoundaryMarkers</a></li><li><a href="module-Browsers.html">Browsers</a></li><li><a href="module-Colors.html">Colors</a></li><li><a href="module-Content.html">Content</a></li><li><a href="module-Cursors.html">Cursors</a></li><li><a href="module-Dom.html">Dom</a></li><li><a href="module-DragDrop.html">DragDrop</a></li><li><a href="module-Editables.html">Editables</a></li><li><a href="module-Editing.html">Editing</a></li><li><a href="module-Ephemera.html">Ephemera</a></li><li><a href="module-Events.html">Events</a></li><li><a href="module-Xhtml.html">Xhtml</a></li></ul><h3>Global</h3><ul><li><a href="global.html#define">define</a></li><li><a href="global.html#require">require</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Mon Apr 07 2014 15:20:51 GMT+0400 (MSK)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>